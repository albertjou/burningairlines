<div class="bs">
 <h4>Plane Details</h4>
  <table class="table ">
    <thead>
      <tr>
        <th>Model</th>
        <th>Total Seats</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <% @flight = Flight.find params[:id] %>
      <% Plane.order(:model_number).each do |plane| %>
        <% next unless @flight.id.in?(plane.flight_ids) %>
        <tr>
          <td><%= plane.model_number %></td>
          <td><%= plane.seats %></td>
          <td><%= plane.status %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<h4>Passengers</h4>
<table class="table">
  <thead>
    <tr>
      <th>Title</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Mobile</th>
    </tr>
  </thead>
  <tbody>
    <% @flight = Flight.find params[:id] %>
    <% User.order(:last_name).each do |user| %>
      <% next unless @flight.id.in?(user.flight_ids) %>
      <tr>
        <td><%= user.title %></td>
        <td><%= user.first_name %></td>
        <td><%= user.last_name %></td>
        <td><%= user.mobile %></td>
      </tr>
    <% end %>
  </tbody>
</table>